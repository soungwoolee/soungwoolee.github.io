---


---

<h1 id="web-scraping-data-crawling-">Web Scraping( data crawling )</h1>
<h2 id="정의">정의</h2>
<p><strong>웹 스크래핑</strong>은 웹 사이트의 원하는 정보를 추출하는 것을 뜻한다. 한편 <strong>웹 크롤러</strong>는 스크래핑 방법의 일종으로 <em><strong>자동화, 조직화된 방법</strong></em> 으로 원하는 데이터를 추출하는 것을 의미한다. 가령 항공사 홈페이지에서 특정 날짜의 비행기 티켓 가격 정보를 일회적으로 수집할 경우, 이는 웹 스크래핑에 해당한다. 반면 여러 날짜의 비행기 티켓 정보를 주기적으로 수집하려 한다면 자동화된 프로그램이 필요할 것이고 이는 크롤링에 가깝다. (크롤링이 더 좁은 의미의 개념이지만 혼용해서 사용하겠다.)<br>
웹 사이트에서 반복적으로 대량의 자료를 '노가다’로 수집하면 굉장히 힘들다. 100개 200개면 괜찮겠지만 자료나 작업의 양이 1000개 이상이거나 반복적으로 작업을 수행해야 하는 상황에서 크롤링은 필수적이다.</p>
<h3 id="준비사항">준비사항</h3>
<p>웹 크롤링을 하기 위해서 대략적으로 필요한 사항은 다음과 같다.</p>
<ol>
<li>최소한의 html 지식</li>
<li>기본적인 파이썬 문법</li>
<li>사이트에서 원하는 요소에 접근하는 방법</li>
</ol>
<p>필자는 크롤링을 시도하기 전에 기본적인 파이썬도 서툴렀고 html 과 관련된 지식은 전무했다. 하지만 10군데가 넘는 사이트와 씨름하다 보니 <strong>다양한 상황에서 원하는 항목을 추출하는 것</strong>이 어느 정도 가능해졌다.  복붙에 지쳤고 파이썬을 켜 본 경험이 있다면 따라와 보기 바란다:)</p>
<h2 id="html">HTML</h2>
<h3 id="정의-1">정의</h3>
<p>HTML(HyperText Markup Language) 은 대표적인 마크업 언어이다. <a href="https://ko.wikipedia.org/wiki/%EB%A7%88%ED%81%AC%EC%97%85_%EC%96%B8%EC%96%B4">마크업 언어</a>는 태그 등을 이용하여 '문서나 데이터의 구조를 표현’하는 언어이다.  우리가 알고 있는 웹 페이지가 HTML 문서이며 HTML '태그’들로 이루어져 있다. 이 태그의 구성에 따라 웹페이지의 기능과 디자인이 결정되므로 크롤링 시 추출하고자 하는 데이터가 어떤 태그로 둘러 쌓여 있는지 잘 확인해야 한다.</p>
<h3 id="tag">TAG</h3>
<p>실제 사이트에서 html 이 어떻게 동작하는지 알아보자. 예시 사이트는 <a href="https://www.data.go.kr/index.do">공공데이터포털</a>이다.  사이트에 들어가서 윈도우의 경우 F12를 누르거나 도구-&gt; 더보기 -&gt; 개발자 창을 클릭하면 개발자 창을 띄울 수 있다.  이 창에서 우리는 웹사이트의 특정 요소가 어떤 태그로 구성되어 있는지 확인할 수 있다.<br>
사진 html_tag<br>
&lt; head&gt; &lt; body&gt;  처럼  &lt;&gt; 괄호로 둘러 쌓인 것들이 TAG 에 해당한다. 복잡한 사이트가 단순히 몇 줄로 이루어진 것처럼 보인다. 하지만  앞 부분의 작은 세모를 클릭해보면 부모 태그의 하위그룹에 해당하는 자식 태그들에 접근할 수 있다.  그리고 태그는 시작태그와 종료태그로 이루어져 있어서 시작태그에서 출발해서 밑단으로 내려갔다가 다시 올라와서 종료 태그로 감싸져 있는 구조라고 이해하면 된다.  종료태그 없이 시작태그가 전부인 경우도 있다. 가령 title tag 의 시작태그는 &lt; title &gt; 종료태그는 &lt; /title&gt; 인 형식이다.</p>
<p>사진 html_tag_2</p>
<p>사이트에서 데이터를 검색할 수 있는 요소가 우측의 개발자 창에서 파란색으로 선택되어 있는 부분이다. 맨 위의 &lt; body&gt; tag 에서 하위로 내려온 것을 확인할 수 있다. 그렇다면 파란색으로 선택된 &lt; div class=“main-section-search” &gt; 에서 div, class, main-section-search 각각의 역할을 알아보자</p>
<h3 id="element-요소">Element (요소)</h3>
<p>태그로 둘러 쌓인 내용과 태그들을 모두 포함하여 element 라고 부른다. 즉위의 예시에서 요소는 " &lt; div class=“main-section-search” &gt; " 전부에 해당한다. html 에서 Tag 와 Element 가 유사하게 쓰인다고 하는데 '요소’가 전체를 해당 부분의 전체를 의미하는 것만 알고 넘어가자.</p>
<h3 id="attributs속성">Attributs(속성)</h3>
<p>요소의 시작 부분으로 구체화된 명령어를 의미한다.  예시에서 class 부분이 속성에 해당한다. 주로 사용되는 속성(global 속성)은 다음과 같다</p>
<ul>
<li>class : 공백으로 구분된 요소의 별칭을 지정.</li>
<li>id : 문서에서 고유한 식별자(idenifier, ID)를 정의한다. 한 문서에서 id 는 유일한 값이다.</li>
<li>style : 요소에 적용할 CSS를 선언
<ul>
<li>CSS는 HTML 요소들이 각종 미디어에서 어떻게 보일지 정하는 스타일 시트 언어임</li>
</ul>
</li>
</ul>
<p>그래서 class 나 id 를 알면 그 항목에 쉽게 접근할 수 있다.<br>
이외에도 여러가지가 있지만 요소에 접근하다 보면 자연스럽게 알게 되는 내용이므로 추가적으로 알고 싶다면 <a href="https://heropy.blog/2019/05/26/html-elements/">여기</a>를 참조해보자</p>
<h3 id="argument-변수">Argument (변수)</h3>
<p>속성의 값을 의미한다.  class=“main-section-search” 에서 “main-section-search” 부분이 Argument에 해당한다. argument 그 요소의 기능을 나타내므로 html 만 봐도 특정 element 의 역할을 짐작할 수 있다. 예시에서는 사이트의 main 검색창 정도로 이해했다.</p>
<h2 id="다음">다음</h2>
<p>지금까지 웹페이지의 구성과 html 의 각 요소에 대해 알아보았다. 다음 장에서는</p>
<ol>
<li>HTML 태그 정보를 기반으로 원하는 내용을 수집하는 방법인 Request 와</li>
<li>직접 chrome 브라우저를 제어해서 데이터를 추출하는 방식인 Selenium 을 다뤄보겠다.</li>
</ol>
<p>크롤링에 필요한 모든 배경 지식은 불필요하므로 간단히 데이터를 추출하는 작업부터 시작해서 세부적인 사항도 다뤄볼 계획이다.</p>

